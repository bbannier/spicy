# @TEST-EXEC-FAIL: spicyc -p %INPUT >output 2>&1
# @TEST-EXEC: btest-diff output
#
# @TEST-DOC: Check that we get a proper error message when trying to access an unknown unit field; regression test for #1790

module Test;

type Msg = unit {
  var x: uint16;
  bar: uint16;

  on %done {
    self.x = self.bar_;
  }
};
